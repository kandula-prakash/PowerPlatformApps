/*! For license information please see 101.08671e72.chunk.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[101],{5122:function(e,t,i){"use strict";i.r(t);var r=i(5123);i.d(t,"FilterSearchViews",(function(){return r.FilterSearchViews}));var s=i(5124);i.d(t,"defaultFilterIconNameFunction",(function(){return s.defaultFilterIconNameFunction})),i.d(t,"FilterSearchViewsBase",(function(){return s.FilterSearchViewsBase}));i(5126)},5123:function(e,t,i){"use strict";i.r(t),i.d(t,"FilterSearchViews",(function(){return n}));var r=i(545),s=i(5124),l=i(5125),n=Object(r.styled)(s.FilterSearchViewsBase,l.getStyles)},5124:function(e,t,i){"use strict";i.r(t),i.d(t,"defaultFilterIconNameFunction",(function(){return d})),i.d(t,"FilterSearchViewsBase",(function(){return f}));var r,s,l,n=i(245),a=i(684),c=i(777),o=i(545),h=i(5117),u=Object(o.classNamesFunction)(),d=e=>null===e?"Filter":"FilterSolid",f=Object(o.customizable)("FilterSearchViews",["theme","styles"])((l=s=class extends o.BaseComponent{constructor(e){super(e),this._classNames=void 0,this._filterSearchBoxRef=n.createRef(),this._onClickViewPickerIcon=()=>{var{views:e}=this.props;e.length>2||this.setState(t=>{var i=(Object(o.findIndex)(e,e=>e.key===t.selectedViewKey)+1)%this.props.views.length;return{selectedViewKey:e[i]?e[i].key:null}})},this._onClickViewPickerIconFromMenu=(e,t)=>{var{onChangeView:i}=this.props,{selectedViewKey:r}=this.state;t.key!==r&&(i&&i(t.key),this.setState({selectedViewKey:t.key}))},this._onChangeSearchText=(e,t)=>{var{onChangeSearchText:i}=this.props,{searchText:r}=this.state;t!==r&&(i&&i(t||""),this.setState({searchText:t||""}))},this._onChangeFilter=e=>{var{onChangeFilter:t}=this.props,{selectedFilterKey:i}=this.state;e!==i&&(t&&t(e),this.setState({selectedFilterKey:e}))},this.state={searchText:this.props.defaultSearchText,selectedFilterKey:this.props.defaultSelectedFilterKey||this.props.allFilterItemKey,selectedViewKey:this._getInitialSelectedViewKey(e)}}focus(){this._filterSearchBoxRef.current&&this._filterSearchBoxRef.current.focus()}dismissMenu(){this._filterSearchBoxRef.current&&this._filterSearchBoxRef.current.dismissMenu()}componentDidUpdate(){Object(o.find)(this.props.views,e=>e.key===this.state.selectedViewKey)||this.setState({selectedViewKey:this._getInitialSelectedViewKey(this.props)})}render(){return this._classNames=this._getClassNames(this.props),n.createElement("div",{className:this._classNames.root},this._renderSearchBoxAndViewToggle(),this._renderView())}_renderView(){var{searchText:e}=this.state;if(!this._selectedView)return null;var t=this._selectedFilter,i=this._getFilteredItems(this.props.items,e,t);return this._selectedView.onRenderView(i,e,t)}get _selectedView(){var{views:e}=this.props,{selectedViewKey:t}=this.state;return Object(o.find)(e,e=>e.key===t)||null}get _selectedFilter(){var{filters:e}=this.props,{selectedFilterKey:t}=this.state;return e&&Object(o.find)(e,e=>e.key===t)||null}_renderSearchBoxAndViewToggle(){var e,{strings:t,filters:i,filterButtonIconName:r}=this.props,{searchText:s,selectedFilterKey:l}=this.state,a=[{key:this.props.allFilterItemKey,text:t.allItemsFilterItemText||"All"}];if(i&&a.push(...i),"function"==typeof r){var c=this._selectedFilter;e=r(c?c.key:null)}else e=r;return n.createElement(n.Fragment,null,n.createElement("div",{className:this._classNames.searchBoxViewPickerContainer,"data-id":this.props.searchBoxViewPickerDataId},n.createElement(h.FilterSearchBox,{componentRef:this._filterSearchBoxRef,strings:{searchBoxPlaceholder:t.searchBoxPlaceholder,searchBoxClearButtonTitle:t.searchBoxClearButtonTitle,filterButtonTooltipText:t.filterButtonTooltipText},searchText:s,onSearchTextChange:this._onChangeSearchText,filters:a,selectedFilterKey:l,onFilterChange:this._onChangeFilter,styles:{root:this._classNames.filterSearchBox},filterButtonIconName:e}),this._renderViewPicker(),this.props.refreshButtonProps))}_renderViewPicker(){var e,{views:t}=this.props,i=this._selectedView;if(t.length<=1)return null;var r=this._onClickViewPickerIcon;return t.length>2&&(r=void 0,e={items:t.map(e=>({key:e.key,text:e.text,iconProps:{iconName:e.iconName}})),directionalHint:c.DirectionalHint.bottomRightEdge,onItemClick:this._onClickViewPickerIconFromMenu}),n.createElement(a.IconButton,{styles:{root:this._classNames.viewPickerButton},iconProps:{iconName:null==i?void 0:i.iconName},onClick:r,menuProps:e,ariaLabel:null==i?void 0:i.ariaLabel,title:null==i?void 0:i.ariaLabel})}_getFilteredItems(e,t,i){var r;try{r=JSON.parse(JSON.stringify(e))}catch(s){if(!(s instanceof Error))throw s;throw new Error("FilterSearchViews: Invalid items property. This could be due to circular references in items. Error: ".concat(s.message))}return this._filterItemRecursively(r,t,i)}_filterItemRecursively(e,t,i){return e.filter(e=>(e.children&&(e.children=this._filterItemRecursively(e.children,t,i)),this.props.shouldFilterItem(e,t,i)))}_getClassNames(e){var{theme:t}=e;return u(e.styles,{theme:t})}_getInitialSelectedViewKey(e){var t=e.defaultSelectedViewKey;return!t&&e.views.length>0&&(t=e.views[0].key),t||null}},s.defaultProps={defaultSearchText:"",allFilterItemKey:"filterSearchViewsAllFilterKey"},r=l))||r},5125:function(e,t,i){"use strict";i.r(t),i.d(t,"getStyles",(function(){return r}));var r=e=>{var{palette:t}=e.theme;return{searchBoxViewPickerContainer:{display:"flex",alignItems:"center",marginBottom:8},filterSearchBox:{flex:"1 1 auto"},viewPickerButton:{flex:"0 0 auto",marginLeft:12,height:36,boxSizing:"content-box"}}}},5126:function(e,t,i){"use strict";i.r(t)}}]);
//# sourceMappingURL=https://sourcemaps.powerapps.com/srcmaps/static/js/module/101.08671e72.chunk.js.map