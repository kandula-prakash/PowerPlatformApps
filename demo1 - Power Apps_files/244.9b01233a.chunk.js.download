(window.webpackJsonp=window.webpackJsonp||[]).push([[244],{7490:function(e,r,t){"use strict";t.r(r),t.d(r,"sampleAppsListCachedStatusSelector",(function(){return n})),t.d(r,"sampleAppsListError",(function(){return l})),t.d(r,"isSampleAppsListCachedComplete",(function(){return s})),t.d(r,"sampleAppType",(function(){return i})),t.d(r,"sampleAppsSelector",(function(){return c})),t.d(r,"currentOpenSampleAppModal",(function(){return m}));var p=t(5625),a=t(5470),o=t(5626),n=e=>{var r=Object(o.listFetchedSelector)(e);return r&&r[a.EnvironmentAgnosticKey]&&r[a.EnvironmentAgnosticKey].sampleApps||a.CachedStatusType.None},l=e=>e.sampleApps.fetchSampleAppsError,s=e=>n(e)===a.CachedStatusType.Done,i=e=>e.sampleApps.sampleAppType,c=Object(p.createSelector)(e=>e.sampleApps.sampleApps,e=>Object(a.denormalize)(e)),m=e=>e.sampleApps.currentOpenSampleAppModal},7496:function(e,r,t){"use strict";t.r(r),t.d(r,"mapStateToProps",(function(){return F})),t.d(r,"mapDispatchToProps",(function(){return k})),t.d(r,"mergeProps",(function(){return L})),t.d(r,"CreateAppModalContainer",(function(){return q}));var p=t(5437),a=t(5648),o=t(5649),n=t(5654),l=t(7490),s=t(5667),i=t(5604),c=t(5987),m=t(5626),d=t(5645),u=t(5656),P=t(5658),A=t(7497),b=t(5981),S=t(5630),g=t(5468),O=t(5478),v=t(5876),y=t(5487),w=t(5644),j=t(6541),f=t(5642),E=t(5669),C=t(2698),D=["closeSampleAppModalDispatch","resetPowerPortalError","resetPowerPortalFields","resetValidateAppNameError"],T=["sampleAppCommands","onDismissSampleAppPreview","onDismissModal"];function h(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);r&&(p=p.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,p)}return t}function M(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?h(Object(t),!0).forEach((function(r){N(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function N(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function I(e,r){if(null==e)return{};var t,p,a=function(e,r){if(null==e)return{};var t,p,a={},o=Object.keys(e);for(p=0;p<o.length;p++)t=o[p],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(p=0;p<o.length;p++)t=o[p],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var F=(e,r)=>{var t,p={enableCanvasAppsInSolutionsByDefault:!1,organizationSettings:null,sampleAppModalErrorMessage:"",showCreateModal:!1,sampleApp:void 0,sampleAppCommands:void 0,initialFormFactor:void 0,initialModelAppDesignerTarget:void 0,portalSubDomain:void 0,sampleAppType:void 0,isAppCreationInProgress:!1,componentLoadState:void 0,powerPortalException:void 0,environmentHasCDSOrg:!1,isPowerPortalPackageInstalled:!0,orgEnabledLanguage:!1,enableEngagementInsights:!1,websiteSelected:!1,currentEnvironment:void 0},a=null!==(t=Object(l.currentOpenSampleAppModal)(e))&&void 0!==t?t:r.sampleAppToPreview;if(a){var n=Object(P.resolveSampleAppType)(a.sampleAppType,a.uniqueName),s=r.rootProps.currentEnvironment,A=j.powerPortalSelectors.environmentHasCDSOrgSelector(e,s.id),b=Object(d.getPowerPortalPackageName)(a.uniqueName,A),S=Object(c.powerPortalPrerequisitesSelector)(e,s.id,w.PowerPortalOperationType.Provision,b),g=i.getCrmInstanceUrl(s),O=Object(m.orgEnabledLanguagesSelector)(e,g);O&&(O=O.filter(e=>Object(d.checkPortalSupportedLanguage)(e.localeId)));var v=Object(c.websiteIdSelector)(e,g),y=Object(c.organizationSettingsSelector)(e);p.currentEnvironment=s,p.organizationSettings=y,p.enableCanvasAppsInSolutionsByDefault=!(!y||!y.enablecanvasappsinsolutionsbydefault),p.sampleAppModalErrorMessage=n===u.SampleAppTypes.Canvas?Object(o.validateAppDisplayNameError)(e):"",p.powerPortalException=Object(c.portalCreateModalErrorMessageSelector)(e,s.id),p.showCreateModal=!0,p.sampleApp=a,p.sampleAppCommands=r.sampleAppCommands(a),p.initialFormFactor=a.allowedFormFactors?a.allowedFormFactors[0]:void 0,p.initialModelAppDesignerTarget=n===u.SampleAppTypes.Model?f.ModelAppDesignerTarget.Classic:void 0,p.portalSubDomain=n===u.SampleAppTypes.PowerPortal?Object(c.portalSubDomainSelector)(e):void 0,p.enableEngagementInsights=u.SampleAppTypes.PowerPortal?Object(c.enableEngagementInsightsSelector)(e):void 0,p.sampleAppType=n,p.isAppCreationInProgress=n===u.SampleAppTypes.PowerPortal&&Object(c.portalCreateInProgressSelector)(e),p.componentLoadState=Object(c.componentLoadStateSelector)(e),p.environmentHasCDSOrg=A,p.isPowerPortalPackageInstalled=n!==u.SampleAppTypes.PowerPortal||!S||S.IsPackageInstalled,p.orgEnabledLanguage=!!(O&&O.length>0),p.websiteSelected=!!v&&v.trim().length>0}return p},k=(e,r)=>({closeSampleAppModalDispatch:()=>{e(Object(n.closeSampleAppModal)())},validateName:r=>e(Object(a.validateAppDisplayNameRequest)({appDisplayName:r})),resetValidateAppNameError:()=>e(b.appsActions.resetValidateAppDisplayNameError()),resetPowerPortalError:()=>e(Object(s.resetPowerPortalCreateModalError)({environmentId:r.rootProps.currentEnvironment.id})),resetPowerPortalFields:()=>e(Object(s.resetCreatePowerPortalFields)()),openCreateNewEnvironmentPanel:()=>{e(Object(S.logAction)(g.sharedActions.panelOpen({panelType:O.PanelToShowType.CreateEnvironmentPanel,panelProps:{sampleAppType:u.SampleAppTypes.PowerPortal}}),v.CreateEnvironmentPanelEvents.CreatePanelOpened.eventName)),e(Object(n.closeSampleAppModal)()),e(b.appsActions.resetValidateAppDisplayNameError()),e(Object(s.resetPowerPortalCreateModalError)({environmentId:r.rootProps.currentEnvironment.id})),e(Object(s.resetCreatePowerPortalFields)())}}),L=(e,r,t)=>{var{closeSampleAppModalDispatch:p,resetPowerPortalError:a,resetPowerPortalFields:o,resetValidateAppNameError:n}=r,l=I(r,D),{sampleAppCommands:s,onDismissSampleAppPreview:i,onDismissModal:c}=t,m=I(t,T);return M(M(M({onDismissModal:()=>{Object(C.trackUserActionClickButton)(E.SampleAppScenarioNames.CloseAppModalClickEvent,{appDisplayName:e.sampleApp.displayName,appType:Object(P.resolveSampleAppType)(e.sampleApp.sampleAppType,e.sampleApp.uniqueName),appUniqueName:e.sampleApp.uniqueName}),p(),n(),e.sampleAppType===u.SampleAppTypes.PowerPortal&&(a(),o()),c&&c()},onDismissSampleAppPreview:i},e),l),m)},q=Object(y.withRootProps)(Object(p.connect)(F,k,L)(A.CreateAppModal))}}]);
//# sourceMappingURL=https://sourcemaps.powerapps.com/srcmaps/static/js/module/244.9b01233a.chunk.js.map