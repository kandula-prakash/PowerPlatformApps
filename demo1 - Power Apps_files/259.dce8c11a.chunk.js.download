(window.webpackJsonp=window.webpackJsonp||[]).push([[259],{7983:function(e,t,o){"use strict";o.r(t),o.d(t,"PivotKey",(function(){return f})),o.d(t,"useSolutionLayersDetailsHeader",(function(){return k})),o.d(t,"SolutionLayersDetails",(function(){return E}));var n=o(245),r=o.n(n),l=o(922),i=o(4064),a=o(545),s=o(719),u=o(2882),c=o(5492),m=o(1471),d=o(5700),p=o(2812),S=o(217),b=o(1709),C=o(923);function v(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function O(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?v(Object(o),!0).forEach((function(t){y(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):v(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function y(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var f;!function(e){e.Updated="Updated",e.All="All"}(f||(f={}));var g=(e,t,o)=>{if(!t)return[];var n={minWidth:40,maxWidth:54,isResizable:!0,isCollapsable:!1,isMultiline:!1,isPadded:!0,sortAscendingAriaLabel:o("Common.Sorting.ascending"),sortDescendingAriaLabel:o("Common.Sorting.descending")};return[O(O({},n),{},{key:"propertyName",minWidth:240,maxWidth:240,name:o("Model.SolutionLayers.PaneList.Header.propertyName"),fieldName:"propertyName",onRender:e=>e.Key}),O(O({},n),{},{key:"value",minWidth:230,maxWidth:230,name:o("Model.SolutionLayers.PaneList.Header.value"),fieldName:"value",onRender:h})]},h=e=>{var t;try{var o;if((null===(o=e.Key)||void 0===o?void 0:o.indexOf("- LocalizedLabel"))>-1){var n=JSON.parse(e.Value).LocalizedLabels;if(n)t=Object.keys(n).map(e=>r.a.createElement("div",null,"(",e,") ",n[e].LocalizedLabel))}else t="boolean"==typeof e.Value?JSON.stringify(e.Value):e.Value;return t}catch(l){throw Object(S.trackErrorTrace)("solution Layers Details",{eventName:"getValue",eventData:{error:l.message}}),l}},j=Object(s.mergeStyleSets)({listRoot:{selectors:{".displayName":{color:u.fabricColors.bokaraGrey,fontFamily:c.fonts.segoeUi,fontSize:"12px",lineHeight:"16px"},".ba-Pane-scrollableContent":{paddingLeft:"8px"},".ms-DetailsRow-cell":{whiteSpace:"normal"}}}}),P=e=>{var t,o,n,r,l,i,a=[];if(!e)return a;try{var s=JSON.parse(e);i={},(null===(o=(t=s).FormattedValues)||void 0===o?void 0:o.length)>0&&t.FormattedValues.forEach(e=>{i[e.Key]=e.Value}),null!==(n=t.FormattedValues)&&void 0!==n&&n.length&&Object(S.trackErrorTrace)("formatKeyValues",{eventName:"SolutionLayersPage/SolutionLayersDetails/formatKeyValues",eventData:{error:"api/data/v9.0/msdyn_componentlayers returned unexpected data format for changes.FormattedValues"}}),(null===(r=t.Attributes)||void 0===r?void 0:r.length)>0&&t.Attributes.forEach((e,o)=>{i[e.Key]?t.Attributes[o].Value=i[e.Key]:"object"==typeof e.Value&&(e.Value.Id?t.Attributes[o].Value=e.Value.Id:t.Attributes[o].Value=JSON.stringify(t.Attributes[o].Value))}),null!==(l=t.Attributes)&&void 0!==l&&l.length&&Object(S.trackErrorTrace)("formatKeyValues",{eventName:"SolutionLayersPage/SolutionLayersDetails/formatKeyValues",eventData:{error:"api/data/v9.0/msdyn_componentlayers returned unexpected data format for changes.Attributes"}}),a=(a=t.Attributes)&&p.orderBy(a,[e=>{var t;return null===(t=e.Key)||void 0===t?void 0:t.toLowerCase()}],"asc")}catch(u){throw a=[],Object(S.trackErrorTrace)("solution Layers Details",{eventName:"getPaneItemValues",eventData:{error:u.message}}),u}return a};function k(e){var{showRemoveLayerButton:t}=e,[o,n]=r.a.useState(f.Updated),{t:l}=Object(C.useTranslation)("PowerappsPortal");return{headerText:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:d.solutionLayersListPageStyleClasses.paneHeaderStyle},l("Model.Solutions.SolutionLayersPage.properties")),t&&r.a.createElement("div",{className:d.solutionLayersListPageStyleClasses.paneSubHeaderStyle},l("Model.Solutions.SolutionLayersPage.propertiesSubText")),r.a.createElement(b.Pivot,{selectedKey:o,onLinkClick:e=>{var t=e&&e.props.itemKey||f.Updated;t!==o&&n(t)},className:d.solutionLayersListPageStyleClasses.pivot},r.a.createElement(b.PivotItem,{linkText:l("Model.Solutions.SolutionLayersPage.Pivot.updated"),itemKey:f.Updated}),r.a.createElement(b.PivotItem,{linkText:l("Model.Solutions.SolutionLayersPage.Pivot.all"),itemKey:f.All}))),selectedPivot:o}}var E=Object(l.translateService)("PowerappsPortal")(e=>{var{selectedItem:t,tReady:o,t:l,selectedPivot:s}=e,u=P(t.componentJson),c=P(t.changes);return r.a.createElement("div",{className:d.solutionLayersListPageStyleClasses.paneDivStyle},s===f.Updated&&r.a.createElement(i.DetailsList,{items:c,constrainMode:m.ConstrainMode.unconstrained,columns:Object(n.useMemo)(()=>g(0,o,l),[o,l,c]),selectionMode:a.SelectionMode.none,className:j.listRoot,layoutMode:m.DetailsListLayoutMode.justified,compact:!1,categorized:!0,categoriesCollapsed:!0,setKey:"set",onColumnHeaderClick:()=>!1}),s===f.All&&r.a.createElement(i.DetailsList,{items:u,constrainMode:m.ConstrainMode.unconstrained,columns:Object(n.useMemo)(()=>g(0,o,l),[o,l,u]),selectionMode:a.SelectionMode.none,className:j.listRoot,layoutMode:m.DetailsListLayoutMode.justified,compact:!1,categoriesCollapsed:!0,categorized:!0,setKey:"set",onColumnHeaderClick:()=>!1}))})},7987:function(e,t,o){"use strict";o.r(t),o.d(t,"AlmStackType",(function(){return n})),o.d(t,"allowedSmartDiffAlmTypes",(function(){return b})),o.d(t,"SolutionLayersListCommandBar",(function(){return C})),o.d(t,"SolutionLayersListCommandBarContainer",(function(){return v}));var n,r=o(245),l=o.n(r),i=o(7988),a=o(5583),s=o(5687),u=o(1222),c=o(6608),m=o(5676);function d(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function p(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?d(Object(o),!0).forEach((function(t){S(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):d(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function S(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}!function(e){e.SiteMap="SiteMap",e.AppModule="AppModule",e.SystemForm="SystemForm"}(n||(n={}));var b=[n.SiteMap,n.AppModule,n.SystemForm],C=e=>{var t,{t:o,onSearchFilterUpdate:n,searchBy:r}=e,i={allowedSmartDiffAlmTypes:b,props:null==e?void 0:e.solutionCommandActions,openPanelProps:null==e?void 0:e.openPanelActions,solutionId:null==e?void 0:e.solutionId,solutionComponentId:null==e?void 0:e.solutionComponentId,selectedLayerOrder:(null==e||null===(t=e.selectedLayer)||void 0===t?void 0:t.layerOrder)||0,solutionComponentName:null==e?void 0:e.solutionComponentName,solutionComponentType:null==e?void 0:e.solutionComponentType,solutionComponentTypeName:null==e?void 0:e.solutionComponentTypeName,showRemoveLayerButton:null==e?void 0:e.showRemoveLayerButton},a=Object(m.getSolutionLayersCommands)(i);return l.a.createElement(u.CommandBarWithSearchBox,{items:a,isSearchBoxVisible:!0,searchBoxProps:p({},Object(c.getSearchBoxProps)(n,o("Common.SearchBox.arialabel"),o("Common.SearchBox.arialabel"),o("Common.SearchBox.ClearButton.arialabel"),o("Common.SearchBox.placeholder"),r)),ariaLabel:e.t("Model.SolutionLayers.SmartDiff.Page.commandBar")})},v=Object(a.withNavigation)(Object(i.withSolutionCommands)(s.SolutionContexts.ComponentLayers.CommandBar)(C))},7988:function(e,t,o){"use strict";o.r(t),o.d(t,"mapDispatchToProps",(function(){return g})),o.d(t,"mergeProps",(function(){return h})),o.d(t,"withSolutionCommands",(function(){return j}));var n=o(245),r=o(5437),l=o(2886),i=o(5478),a=o(2871),s=o(5630),u=o(5690),c=o(5691),m=o(5468),d=o(7989),p=o(5687),S=o(5623),b=o(5593),C=o(5606),v=o(6332);function O(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function y(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?O(Object(o),!0).forEach((function(t){f(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):O(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function f(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function g(e){return{dispatch:e}}function h(e){return(e,t,o)=>{var{navigate:r}=o,O=t.dispatch,f=C.SagaContextProps.getCurrentEnvironment(),g={onSolutionCreateClick:()=>{a.featureGates.showNewSolutionPanel?O(Object(s.logAction)(u.openNewPanel(),p.SolutionCommandEvents.Create.eventName)):O(Object(s.logAction)(u.createSolutionLegacy(),p.SolutionCommandEvents.Create.eventName))},onSolutionImportClick:()=>O(Object(s.logAction)(u.importSolution(),p.SolutionCommandEvents.Import.eventName)),onSolutionPublishAllClick:()=>O(Object(s.logAction)(u.publishAllCustomizations(),p.SolutionCommandEvents.PublishAll.eventName)),onSolutionPublishToSourceControlClick:()=>O(Object(s.logAction)(u.publishToSourceControl(),p.SolutionCommandEvents.PublishToSourceControl.eventName)),onSolutionRefreshFromSourceControlClick:()=>O(Object(s.logAction)(u.refreshFromSourceControl(),p.SolutionCommandEvents.RefreshFromSourceControl.eventName)),onSolutionMarketplaceClick:()=>O(Object(s.logAction)(u.openSolutionMarketplace(),p.SolutionCommandEvents.OpenMarketplace.eventName)),onOpenSolutionExplorerClick:()=>O(Object(s.logAction)(u.openLegacySolutionExplorer(),p.SolutionCommandEvents.OpenSolutionExplorer.eventName)),onOpenSolutionComponentsClick:e=>{Object(b.trackUserActionClickButton)(p.SolutionCommandEvents.OpenSolutionComponentsList.eventName),o.navigate(Object(S.getSolutionComponentsUrlForMode)(e),!0)},onSolutionExportClick:(e,t,o)=>{Object(l.isSolutionManaged)(e)||O(m.sharedActions.panelOpen({panelType:i.PanelToShowType.SolutionExportPanel,panelProps:{solutionId:e.id}}))},onSolutionDeleteClick:e=>O(Object(s.logAction)(u.openDeleteDialog({solution:e}),p.SolutionCommandEvents.Delete.eventName)),onSolutionHistoryClick:e=>{Object(b.trackUserActionClickButton)(p.SolutionCommandEvents.OpenSolutionHistoryList.eventName),o.navigate(Object(S.getSolutionHistoryUrl)(e),!0)},onSolutionSmartDiffClick:(e,t,n,r)=>{Object(b.trackUserActionClickButton)(p.SolutionCommandEvents.OpenSolutionSmartDiff.eventName),o.navigate(Object(S.getSmartDiffUrl)(e,t,n,r),!0)},onSolutionUpgradeClick:e=>O(Object(s.logAction)(u.upgradeSolution({solution:e}),p.SolutionCommandEvents.Upgrade.eventName)),onSolutionClonePatchClick:e=>O(Object(s.logAction)(u.solutionClone({solutionId:e,cloneType:c.SolutionsCloneType.Patch}),p.SolutionCommandEvents.ClonePatch.eventName)),onSolutionCloneSolutionClick:e=>O(Object(s.logAction)(u.solutionClone({solutionId:e,cloneType:c.SolutionsCloneType.CloneSolution}),p.SolutionCommandEvents.Clone.eventName)),onSolutionExportTranslationsClick:e=>O(Object(s.logAction)(u.exportTranslationsSolution({solutionUniqueName:null==e?void 0:e.uniquename,exportTranslationFileName:Object(l.getExportTranslationFileName)(e)}),p.SolutionCommandEvents.ExportTranslation.eventName)),onSolutionImportTranslationsClick:e=>O(Object(s.logAction)(u.importTranslationsSolution({solutionId:e}),p.SolutionCommandEvents.ImportTranslation.eventName)),onSolutionShowDependenciesClick:e=>{Object(v.hasAllModernSolutionExplorerFixes)(f)&&o.enableSolutionTreeView?(Object(b.trackUserActionClickButton)(p.SolutionCommandEvents.ShowDependencies.eventName),o.navigate(Object(S.getSolutionDependenciesUrl)(e),!0)):O(Object(s.logAction)(u.showSolutionDependencies({solutionId:e}),p.SolutionCommandEvents.ShowDependencies.eventName))},onSolutionCheckerRunClick:(e,t)=>O(Object(s.logAction)(u.solutionCheckerRun({solution:e,environmentId:t}),p.SolutionCommandEvents.SolutionCheckRun.eventName)),onSolutionCheckerDownloadClick:(e,t)=>O(Object(s.logAction)(u.solutionCheckerDownload({solution:e,environmentId:t}),p.SolutionCommandEvents.SolutionCheckDownload.eventName)),onSolutionCheckerViewResultsClick:e=>O(Object(s.logAction)(u.openSolutionCheckerViewResultsList({solution:e,navigate:r}),p.SolutionCommandEvents.SolutionCheckViewResults.eventName)),onSolutionSettingsClick:e=>{a.featureGates.showNewSolutionPanel&&O(Object(s.logAction)(u.openEditPanel({solutionId:e}),p.SolutionEditPanelLoadEvents.eventName))},onSolutionClassicModeClick:()=>O(Object(s.logAction)(u.openSolutionClassicMode(),p.SolutionCommandEvents.OpenClassicMode.eventName)),onSolutionCheckerViewCallout:()=>n.createElement(d.SolutionCheckerCalloutContainer,null),onSolutionCheckerInstall:e=>{O(Object(s.logAction)(u.solutionCheckerInstallProvisionRequest({environmentId:e}),p.SolutionCommandEvents.SolutionCheckInstall.eventName))},onSolutionCheckerCancelClick:(e,t)=>O(Object(s.logAction)(u.solutionCheckerCancel({solution:e,environmentId:t}),p.SolutionCommandEvents.SolutionCheckCancel.eventName)),onPublishTeamsAppClick:e=>O(Object(s.logAction)(u.PublishTeamsApp({solution:e}),p.SolutionCommandEvents.OpenPublishTeamsAppPanel.eventName))};return y(y({},o),{},{solutionCommandActions:g})}}function j(e){return Object(r.connect)(null,g,h())}},7989:function(e,t,o){"use strict";o.r(t),o.d(t,"mapStateToProps",(function(){return c})),o.d(t,"getSolutionStatuses",(function(){return m})),o.d(t,"SolutionCheckerCalloutContainer",(function(){return d}));var n=o(5437),r=o(2886),l=o(5746),i=o(5626),a=o(7990),s=o(5487),u=o(5582),c=(e,t)=>{var o=Object(u.currentEnvironmentIdSelector)(t),n=Object(i.aadUserSelector)(e),a=l.solutionsSelectors.solutionsBeingChecked(e,o),s=l.solutionsSelectors.solutionsBeingCanceled(e,o);return{solutionStatuses:m(Object(r.getRunningSolutions)(l.solutionsSelectors.solutionsSelector(e,o),n.objectId,a),a,s)}};function m(e,t,o){return e?e.map(e=>{var n=Object(r.isSolutionInArray)(e.id,t),l=Object(r.isSolutionInArray)(e.id,o);return{solution:e,solutionStatus:Object(r.getSolutionCheckerStatus)(e,!1,n,l),isCanceling:l,isRunInitiated:n}}):null}var d=Object(s.withRootProps)(Object(n.connect)(c)(a.SolutionCheckerCallout))},7990:function(e,t,o){"use strict";o.r(t),o.d(t,"SolutionCheckerCallout",(function(){return u}));var n=o(3328),r=o(1459),l=o(245),i=o(2869),a=o(7991),s=Object(n.mergeStyleSets)({divCallout:{maxWidth:"300px",lineHeight:"1.5",margin:"20px",fontSize:n.FontSizes.small}});class u extends l.Component{constructor(e){super(e),this.resources=Object(i.getResources)()}render(){return l.createElement("div",{className:"solutionCheckerCallout "+s.divCallout},l.createElement("div",null,l.createElement("span",null,this.resources.Model.Solutions.SolutionCheckerCallout.calloutText)),l.createElement(r.List,{items:this.props.solutionStatuses,onRenderCell:e=>l.createElement(a.SolutionCheckerCellContainer,{solutionId:e.solution.id})}))}}},7991:function(e,t,o){"use strict";o.r(t),o.d(t,"mapStateToProps",(function(){return p})),o.d(t,"mapDispatchToProps",(function(){return S})),o.d(t,"mergeProps",(function(){return b})),o.d(t,"SolutionCheckerCellContainer",(function(){return C}));var n=o(5437),r=o(5487),l=o(2886),i=o(5690),a=o(5691),s=o(6678),u=o(5582);function c(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function m(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?c(Object(o),!0).forEach((function(t){d(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):c(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function d(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var p=(e,t)=>{var o=Object(u.currentEnvironmentIdSelector)(t),n=Object(a.solutionSelector)(e,t.solutionId),r=Object(a.solutionsBeingCanceled)(e,o),i=Object(l.isSolutionInArray)(t.solutionId,Object(a.solutionsBeingChecked)(e,o)),s=Object(l.isSolutionInArray)(t.solutionId,r);return{solution:n,isCanceling:s,isRunInitiated:i,solutionStatus:Object(l.getSolutionCheckerStatus)(n,!1,i,s)}},S=(e,t)=>{var o=Object(u.currentEnvironmentIdSelector)(t);return{cancelAnalysis:t=>{e(Object(i.solutionCheckerCancel)({environmentId:o,solution:t}))}}},b=(e,t,o)=>m(m({},e),t),C=Object(r.withRootProps)(Object(n.connect)(p,S,b)(s.SolutionCheckerCell))}}]);
//# sourceMappingURL=https://sourcemaps.powerapps.com/srcmaps/static/js/module/259.dce8c11a.chunk.js.map