/*! For license information please see 29.6b7eb435.chunk.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{3155:function(e,t,n){"use strict";n.r(t),n.d(t,"getAppsListEnvironment",(function(){return u})),n.d(t,"getAppImageUri",(function(){return l})),n.d(t,"getAppTypeDisplayName",(function(){return d})),n.d(t,"getUnexpectedErrorMessage",(function(){return m})),n.d(t,"isShareAppDisable",(function(){return f})),n.d(t,"isPermissionToShareApp",(function(){return g})),n.d(t,"isDeleteAppDisable",(function(){return b})),n.d(t,"isPermissionToDeleteApp",(function(){return h}));var r=n(1083),a=n(3156),p=n(3157),o=n(2752),s=n(2813),i=n(3159),c=n(2836);function u(e,t){var n;return{environmentName:(null==e?void 0:e.name)||(null==t?void 0:t.environmentName)||"",environmentDisplayName:(null==e||null===(n=e.properties)||void 0===n?void 0:n.displayName)||(null==t?void 0:t.environmentDisplayName)||"",environmentType:(null==e?void 0:e.type)||(null==t?void 0:t.environmentType)||"",linkedEnvironmentMetadataInstanceUrl:(null==t?void 0:t.linkedEnvironmentMetadataInstanceUrl)||(e&&Object(r.environmentHasCds2Database)(e)?Object(r.getCrmInstanceUrl)(e):void 0)}}function l(e,t){switch(e){case a.AppTypes.Model:return o.default.getPaths().appModuleDefaultIcon;default:return t||i.DefaultAppBackgroundImageUri}}function d(e,t,n,r,p){switch(e){case a.AppTypes.Model:return t;case a.AppTypes.PowerPortal:return n;case c.CustomCanvasPage:return p;default:return r}}function m(e){return Object(s.getErrorMessages)(e).join(";")}function f(e,t,n){return n?!!t:t||!g(e)}function g(e){return!!e&&Object(p.canUserEdit)(e)}function b(e,t,n){return n?!!t:t||!h(e)}function h(e){return!!e&&Object(p.isUserOwner)(e)}},3172:function(e,t,n){"use strict";n.r(t),n.d(t,"DefaultParams",(function(){return s})),n.d(t,"launchAppInWebPlayer",(function(){return c})),n.d(t,"getLaunchUrl",(function(){return u})),n.d(t,"getParameters",(function(){return l})),n.d(t,"getWebPlayerBitsPath",(function(){return d})),n.d(t,"getAppWebLinkFromAppDetails",(function(){return m})),n.d(t,"getModelContentUrl",(function(){return f})),n.d(t,"getTrustedUCIContentUrl",(function(){return g})),n.d(t,"getTrustedUCIContentUrlFromAppUrl",(function(){return b})),n.d(t,"getOrgSubdomain",(function(){return h})),n.d(t,"generateModelAppEmbedUrl",(function(){return v}));var r=n(2816),a=n(2812),p=n(1101),o=n(3173),s={source:"portal"},i="&locale={locale}&channelId={channelId}&channelType={channelType}&chatId={chatId}&groupId={groupId}&hostClientType={hostClientType}&isFullScreen={isFullScreen}&subEntityId={subEntityId}&teamId={teamId}&teamType={teamType}&theme={theme}&userTeamRole={userTeamRole}";function c(e,t,n,r,a,p,o){var s=u(e,t,n,r,a,!1,p,o);window.open(s,"_blank")}function u(e,t,n,p,o,i,c,u){u=l(t,c,u);var d=!i;return Object(r.addSearchParams)(m(e,n,p,o,d),Object(a.merge)({},s,u))}function l(e,t,n){var r=d();if(r){var p={webPlayerBits:r};n=Object(a.merge)({},p,n)}if(e){var o={screenColor:e};n=Object(a.merge)({},o,n)}return t&&(n=Object(a.merge)({},{correlationId:t},n)),n}function d(){var e=p.featureGates;return e.useWebPlayerIntBits?"webplayer-int":e.useWebPlayerMasterBits?"webplayer-master":e.useWebPlayerProdBits?"webplayer-prod":void 0}function m(e,t,n,p){var s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(t)return n;var c={};s&&p&&(c=Object(a.merge)({},{tenantId:p},c));var u=i?"embed":"play",l="".concat(o.settings.webPlayerServiceFabricUrl,"/").concat(u,"/").concat(e);return Object(r.addSearchParams)(l,c)}function f(e,t,n){var a=encodeURI(v(e,n)),p="".concat(o.settings.webPlayerServiceFabricUrl,"/teams/modelapp/").concat(t),s={appUrl:a};return Object(r.addSearchParams)(p,s)+i}function g(e,t,n,r){return"".concat(o.settings.webPlayerServiceFabricUrl,"/play/e/").concat(e,"/").concat(t,"/a/").concat(n,"?source=teamstab&tenantId=").concat(r)+i}function b(e,t,n,r){return g(e,h(t),n,r)}function h(e){return e.hostname.split(".").slice(0,-2).join(".")}function v(e,t){var n=e.searchParams.get("flags"),a=[],p=new RegExp("^embedded=.*$","gi"),o=new RegExp("^FCB.October2020Update=.*$","gi"),s=new RegExp("^FCB.AllowLegacyDialogsInUci=.*$","gi");n&&n.split(",").forEach(e=>{p.test(e)||o.test(e)||s.test(e)||a.push(e)}),a.push("embedded=true"),a.push("FCB.October2020Update=true"),a.push("FCB.AllowLegacyDialogsInUci=false");var i={channelId:t,flags:a.join(",")};return Object(r.addSearchParams)(e.href,i)}},3173:function(e,t,n){"use strict";n.r(t),n.d(t,"settings",(function(){return a}));var r=n(250),a=Object(r.createSettingsConfig)({packageName:"powerappsPortalApps",settings:{webPlayerServiceFabricUrl:{description:"",values:{default:"https://apps.powerapps.com",test:"https://apps.test.powerapps.com",preprod:"https://apps.preprod.powerapps.com",preview:"https://apps.preview.powerapps.com",prod:"https://apps.powerapps.com",gov:"https://apps.gov.powerapps.us",high:"https://apps.high.powerapps.us",dod:"https://play.apps.appsplatform.us",mooncake:"https://apps.powerapps.cn",ex:"https://apps.powerapps.eaglex.ic.gov",rx:"https://apps.powerapps.microsoft.scloud"}}}})}}]);
//# sourceMappingURL=https://sourcemaps.powerapps.com/srcmaps/static/js/module/29.6b7eb435.chunk.js.map